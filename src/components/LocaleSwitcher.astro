---
import { defaultLocale } from '@/i18n/ui'
import { LocaleSwitcherClient } from './LocaleSwitcher'

const locale = Astro.currentLocale || defaultLocale

let path = Astro.url.pathname

if (locale !== defaultLocale) {
  const [, , ...url] = Astro.url.pathname?.split('/')
  path = url.join('/')
}
---

<LocaleSwitcherClient path={path} locale={locale} client:visible />
